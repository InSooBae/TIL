# 데드락

Created Time: November 12, 2022 11:45 PM

![Untitled](%E1%84%83%E1%85%A6%E1%84%83%E1%85%B3%E1%84%85%E1%85%A1%E1%86%A8%20e5a607cbdc6747dbaec75acb8911c29f/Untitled.png)

위 이미지처럼 모든 차(프로세스)들이 직진을 하려고 한다.

직진을 하려면 각각의 차들이 |2,3|, |3,4|, |4,1|,|1,2| 의 리소스들을 가져가야 직진을 완수할 수 있다.

그런데 서로 다 직진을 하려다보니 리소스 하나씩(2,3,4,1)을 선점하는데에 성공은 했지만, 그 이후의 리소스들은 다른 차량들이 점유를 하고 있기 때문에 교착상태에 빠졌다.

그래서 모든 차량들이 오도가도 못하는 상황에 빠져버렸다.

이 상황이 매우 위험한 점이 해당 상황 이후에는 아무것도 진행할 수 없기 때문이다.

## Deadlock(교착상태)

두 개 이상의 프로세스 혹은 쓰레드가 **서로**가 가진 **리소스를 기다리는 상태**

### 데드락을 만드는 네 가지 조건

(여기서 리소스는 critical section, lock, CPU, Memory, SSD, Monitor , Printer 등 여러가지 포함)

1. Mutual exclision
    1. **리소스**를 **공유**해서 **사용할 수 없**다.
    2. 해당 리소스를 사용하려면 **한번의 하나**씩 **하나의 프로세스**만이 **사용 가능**하다.
    3. 공유를 하게 된다면 교통사고를 당한 것과 비슷한 맥락
2. Hold and Wait
    1. 프로세스가 이미 하나 이상의 리소스를 취득한(Hold) 상태에서 다른 프로세스가 사용하고 있는 리소스를 추가로 기다린다(Wait).
    2.