# 데드락

Created Time: November 12, 2022 11:45 PM

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/5246f345-55e3-493c-bbc4-4ae3de214d19/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20221112%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20221112T150024Z&X-Amz-Expires=86400&X-Amz-Signature=7af87d390201de50082c9e36142f3507f7cd4c003d6e35bd2b1fa56c63dea083&X-Amz-SignedHeaders=host&response-content-disposition=filename%3D%22Untitled.png%22&x-id=GetObject)

위 이미지처럼 모든 차(프로세스)들이 직진을 하려고 한다.

직진을 하려면 각각의 차들이 |2,3|, |3,4|, |4,1|,|1,2| 의 리소스들을 가져가야 직진을 완수할 수 있다.

그런데 서로 다 직진을 하려다보니 리소스 하나씩(2,3,4,1)을 선점하는데에 성공은 했지만, 그 이후의 리소스들은 다른 차량들이 점유를 하고 있기 때문에 교착상태에 빠졌다.

그래서 모든 차량들이 오도가도 못하는 상황에 빠져버렸다.

이 상황이 매우 위험한 점이 해당 상황 이후에는 아무것도 진행할 수 없기 때문이다.

## Deadlock(교착상태)

두 개 이상의 프로세스 혹은 쓰레드가 **서로**가 가진 **리소스를 기다리는 상태**

### 데드락을 만드는 네 가지 조건

(여기서 리소스는 critical section, lock, CPU, Memory, SSD, Monitor , Printer 등 여러가지 포함)

1. Mutual exclision
    1. **리소스**를 **공유**해서 **사용할 수 없**다.
    2. 해당 리소스를 사용하려면 **한번의 하나**씩 **하나의 프로세스**만이 **사용 가능**하다.
    3. 공유를 하게 된다면 교통사고를 당한 것과 비슷한 맥락
2. Hold and Wait
    1. 프로세스가 이미 하나 이상의 리소스를 취득한(Hold) 상태에서 다른 프로세스가 사용하고 있는 리소스를 추가로 기다린다(Wait).
    2.
